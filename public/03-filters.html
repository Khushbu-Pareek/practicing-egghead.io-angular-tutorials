<!DOCTYPE html>
<html ng-app="AModule">
<head>
    <title>angularAtoZ | Filters </title>
    <!-- <base href="/"> -->

    <!-- Stylesheets -->
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css">
</head>
<script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>
<body>
    <div class="container">

        <div class="well" ng-controller="TextController">
            <div class="alert alert-success">
                Scope of TextController
            </div>
            <input type="text" ng-model="data.message">
            <h1>{{data.message}}</h1>
            <div class="panel panel-success">
                <h2>...and the reversed message is...</h2>
                <!-- earlier we were calling the method with the message like so... -->
                <!-- <i>{{reverseMessage(data.message)}}</i> -->

                <!-- but all we wanna do is to filter our message to get the reversed string... -->
                <i> {{data.message | reverseMessage}}</i>
            </div>
        </div>
        <div class="alert alert-info">
            Read more at... <a href="https://docs.angularjs.org/guide/filter">https://docs.angularjs.org/guide/filter</a>
        </div>
    </div>
    
    <script type="text/javascript" src="lib/angular/angular.min.js"></script>

    <script>
    var aModule = angular.module('AModule', []);

    aModule.controller('TextController', function TextController($scope){
        $scope.data = {message : "Hi from Text Controller"};

        //we had this method for getting the reverse of a string.
        //but a filter is better suited. so we will comment it off
        //and create a custom filter.

        // $scope.reverseMessage = function(message){
        //     return message.split("").reverse().join("");
        // }
        
    });

    //creating our custom filter to reverse the message
    //this also helps in making a filter available module wide
    aModule.filter("reverseMessage", function(){
        return function(text){
            return text.split("").reverse().join("");
        }
    })
    </script>
</body>
</html>